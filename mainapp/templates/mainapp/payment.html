<!DOCTYPE html>
<html lang="en">
{%load static%}
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title> StakeGames</title>
	<!-- favicon -->
	<link rel="shortcut icon" href="{%static 'mainapp/assets/images/favicon.html'%}" type="image/x-icon">
	<!-- bootstrap -->
	<link rel="stylesheet" type="text/css" href="{%static 'mainapp/assets/css/bootstrap.min.css'%}" >
	<!-- Plugin css -->
	<link rel="stylesheet" type="text/css" href="{%static 'mainapp/assets/css/plugin.css'%}">
	<!-- stylesheet -->
	<link rel="stylesheet" type="text/css" href="{%static 'mainapp/assets/wallet/style.css'%}">
	<!-- responsive -->
	<link rel="stylesheet" type="text/css" href="{%static 'mainapp/assets/wallet/responsive.css'%}">

    <!-- font-awesome -->
    <script src="https://kit.fontawesome.com/bbbd3ef3a9.js" crossorigin="anonymous"></script>

</head>

<body>
	<!-- preloader area start -->
	<div class="preloader" id="preloader">
		<div class="loader loader-1">
			<div class="loader-outter"></div>
			<div class="loader-inner"></div>
		</div>
	</div>
	<!-- preloader area end -->

	<!-- Header Area Start  -->
	<header class="header">
		<!-- Top Header Area Start -->
		<section class="top-header">
			<div class="container">
				<div class="row">
					<div class="col-lg-12">
						<div class="content">
							<div class="left-content">
								<ul class="left-list">
									<li>
										.
										<!-- <p>
											<i class="fas fa-headset"><a href=""></a></i>	Support
										</p> -->
									</li>
									<li>
										<p>
											<a href="mailto:stakegams@gmail.com"><i class="fas fa-envelope"></i></a>	
										</p>
									</li>
									<li>
										<div class="language-selector">
											<select name="language" class="language">
												<option value="1">English</option>
												<option value="2">France</option>
												<option value="3">Japan</option>
											</select>
										</div>
									</li>
								</ul>
							</div>
							<div class="right-content">
								<ul class="right-list">
									 <li>
										.
										<!--<div class="cart-icon tm-dropdown">
											<i class="fas fa-cart-arrow-down"></i> 
											<span class="cart-count"></span>
											<div class="tm-dropdown-menu">
												<ul class="list">
													<li class="list-item">
															<div class="close">
																	<i class="fas fa-times"></i>
															</div>
														 <ul class="number-list">
															<li>24</li>
															<li>25</li>
															<li>26</li>
															<li>27</li>
															<li>28</li>
														</ul> 
													</li>
													
												</ul>
											</div>
										</div>
									</li>
									<li>
										<div class="notofication tm-dropdown">
											<span class="count"></span>
											<div class="tm-dropdown-menu">
													<ul class="list">
														<li>
															
														</li>
														
													</ul>
												</div>
										</div>
									</li> -->
									{%if request.user.is_superuser%}
									<li>
										
												<a href="{%url 'dashboard'%}" class="sign-in"  >
													<i class="fas fa-user"></i> 
												</a>
											
									</li>
									{%endif%}
									<li> {%if request.user.is_authenticated%}
										<a href="{%url 'logout'%}" class="sign-in"  >
											<i class="fas fa-user"></i> Logout
										</a>
										{%else%}
										<a href="{%url 'login'%}" class="sign-in" data-toggle="modal" data-target="#login">
											<i class="fas fa-user"></i> LogIn
										</a>
										{%endif%}
									</li>
								</ul>
							</div>
						</div>
					</div>
				</div>
			</div>
		</section>
		<!-- Top Header Area End -->
		
		<!--Main-Menu Area Start-->
	</header>
	<!-- Header Area End  -->
    {%for message in messages%}
	<script>
		alert('{{message}}')
	</script>
	{%endfor%}
	<!-- Breadcrumb Area Start -->
	<section class="breadcrumb-area play">
		<div class="container">
			<div class="row">
				<div class="col-lg-12">
					<h4 class="title">
						Wallet
					</h4>
					<ul class="breadcrumb-list">
						<li>
							<a href="{%url 'home'%}">
									<i class="fas fa-Home "></i>
									Home 
							</a>
						</li>
						<li>
							<span><i class="fas fa-chevron-right"></i> </span>
						</li>
						<li>
							<a href="payment.html">Payments</a>
						</li>
					</ul>
				</div>
			</div>
		</div>
	</section>
	<!-- Breadcrumb Area End -->

	<!-- Account Area Start -->
	<section class="play-games">
			
        <div class="all-games">
            <div class="container">
                <div class="row">
                    <div class="col-lg-12 text-center">
                        <div class="wrapper">
                            <div class="abf-list-item">
                                <div class="abf-value">USDT: <span>{{payment.usd}}</span></div>
                                <div class="abf-value">{{request.user.profile.currency}}: <span>{{payment.amount}}</span></div>
                            </div>
                            <div class="buttonWrapper">
                               
                              <button class="tab-button activebtn" style="border-top-left-radius: 10px;" data-id="home">USDT</button>
                              <button class="tab-button" data-id="css">Card Payment</button>
                              <button class="tab-button" style="border-top-right-radius: 10px;" data-id="script">Bank Transfer</button>
                            </div>
                            <div class="contentWrapper">
                              <div class="content active" id="home">
                                <div class="abf-header">
                                    <div style="text-align: center; background-color:#fff;"><span class="abf-qr"> <img class="abf-img-height" src={{wallet_qr}} style="display: inline;" alt="QR code for payment"> </span> </div>
                                  </div>
                                  <div class="abf-form">
                                    <div class="abf-ash1"> Please send <strong><span class="abf-totalbtc">the above</span></strong> USDT
                                      to address: </div>
                                    <div class="abf-address abf-topline abf-ash2 abf-input-address"><span id="p1">{{wallet_str}} </span>  <i class="fa fa-copy" onclick="copyToClipboard('#p1')"></i><span id="copied">Copied</span></div>
                                    <div class="abf-data abf-topline">
                                      <div class="abf-list">
                                        <div class="abf-list-item">
                                          <div class="abf-label">Merchant: </div>
                                          <div class="abf-value">STAKEGAMES</div>
                                        </div>
                                        <div class="abf-list-item">
                                            <div class="abf-label">Wallet type:</div>
                                            <div class="abf-value"><b><span class="abf-remains">TRC</span> 20</b></div>
                                        </div>
                                        
                                        <div class="abf-list-item">
                                          <div class="abf-label">Date:</div>
                                          <div class="abf-value">{{payment.date|date:'M,d'}}</div>
                                        </div>
                                        <div class="abf-list-item abf-tx-block">
                                          <div class="abf-label">TXN (id):</div>
                                          <div class="abf-value abf-tx">
                                            <div><a href="#" target="_blank">{{payment.transaction_id}}</a>
                                              <div class="abf-confirmations abf-green" title="Confirmations count">1</div>
                                            </div>
                                          </div>
                                        </div>
                                        <div class="abf-list-item">
                                          <div class="abf-label">Status:</div>
                                          <div class="abf-value"><b><span class="abf-status">Waiting payment</span></b></div>
                                        </div>
										<a href="{%url 'completed' 'wallet' payment.id%}">
											<i class="fas fa-angle-double-right" style="font-size: 14px;"> <span style="padding: 3px; font-size: 14px; color: #232c3d; background-color: #fff;">I have completed payment</span></i>
										</a>
                                      </div>
                                    </div>
                                </div>
                              </div>
                              <div class="content" id="css">
                                <div class="item">
                                    Pay with Card

									<form id="paymentForm">
										<div class="form-group">
										  <input  hidden type="email" value = "{{user.email}}" id="email-address" required />
										</div>
										<div class="form-group">
										  <input  hidden type="tel" id="amount" value = "{{payment.amount}}"required />
										</div>
										<div class="form-group">
										  <input hidden id="ref" value = "{{payment.transaction_id}}"/>
										</div>
										<button type="submit" onclick="payWithPaystack()" class="single-method">
                                        <div class="icon">
                                            <img src="{%static 'mainapp/assets/images/payment/dabit-card.png'%}" alt="">
                                        </div>
                                        <span>Dabit Card</span>
                                    </button>
                                </div>
							</form>
							
<script src="https://js.paystack.co/v1/inline.js"></script> 
<script>
const paymentForm = document.getElementById('paymentForm');
paymentForm.addEventListener("submit", payWithPaystack, false);
let ref = document.getElementById('ref').value;
function payWithPaystack(e) {
  e.preventDefault();
  let handler = PaystackPop.setup({
    key: '{{PAYSTACK_PUBLICK_KEYS}}', // Replace with your public key
    email: document.getElementById("email-address").value,
    amount: document.getElementById("amount").value * 100,
    ref: ref,// generates a pseudo-unique reference. Please replace with a reference you generated. Or remove the line entirely so our API will generate one for you
    // label: "Optional string that replaces customer email"
    onClose: function(){
      alert('Window closed.');
    },
    // let message = 'Payment complete! Reference: ' + response.reference;
    //alert(message);
    callback: function(response){
     
    window.location.href = "{%url 'paymentsuccess' payment.transaction_id%}";

    }
  });
  handler.openIframe();
}
</script>
</body>
                              </div>
                              <div class="content" id="script">
                                <div class="item">
                                    Make Bank Transfer 
                                    <div class="abf-list-item">
                                        <div class="abf-label">Bank: </div>
                                        <div class="abf-value">Wema Bank</div>
                                    </div>
                                    <div class="abf-list-item">
                                        <div class="abf-label">Name: </div>
                                        <div class="abf-value">Adzembeh Joshua</div>
                                    </div>
                                    <div class="abf-list-item">
                                        <div class="abf-label">Account No: </div>
                                        <div class="abf-value" > <span id="p2">3448hhjszjha</span>  <i class="fa fa-copy" onclick="copyToClipboard('#p2')"></i><span id="copied2">Copied</span></div>
                                    </div>
									<a href="{%url 'completed' 'Bank Transfer' payment.id%}">
										<i class="fas fa-angle-double-right" style="font-size: 14px;"> <span style="padding: 3px; font-size: 14px; color: #232c3d; background-color: #fff;">I have completed payment</span></i>
									</a>
                                </div>
                              </div>
                            </div>
                        </div>
                        
                    </div>
                </div>
            </div>
        </div>
	</section>
	<!--Account Area End -->
		
<!-- Footer Area Start -->
<footer class="footer" id="footer">
	<div class="copy-bg">
		<div class="container">
			<div class="row">
				<div class="col-lg-5">
					<div class="left-area">
						<p>Copyright © 2022.All Rights Reserved By <a href="#">StakeGames</a>
						</p>
					</div>
				</div>
				<div class="col-lg-7">
					<ul class="copright-area-links">
						<li>
							<a href="{%url 'terms'%}">Terms Of Use</a>
						</li>
						<li>
							<a href="{%url 'about'%}">About Us</a>
						</li>
						
						<li>
							<a href="{%url 'contact'%}">Help Center</a>
						</li>
					   
					</ul>
				</div>
			</div>
		</div>
	</div>
</footer> 
	<!-- Back to Top Start -->
	<div class="bottomtotop">
		<i class="fas fa-chevron-right"></i>
	</div>
	<!-- Back to Top End -->
	<style>
			.breadcrumb-area.play {
			  padding: 133px 0px 32px;
			  margin-top: -42px;
		  }
		  .play-games .all-games {
			  padding: 43px 0px 6px;
		  }
		  .play-games .all-games .nav li a {
			  width: 110px;
			  height: 110px;
			  border-style: solid;
			  border-width: 1px;
			  border-color: #273b71;
			  border-radius: 10%;
			  margin: 5px 10px;
			  text-align: center;
			  -webkit-box-shadow: 0px 10px 15px 0px rgb(0 0 0 / 40%);
			  box-shadow: 0px 10px 15px 0px rgb(0 0 0 / 40%);
		  }
	  
		  .catego {
			  border-bottom: 1px solid #dedede!important;
			  padding-bottom: 12px;
		  }
	  
		  .item {
			  margin-bottom: 25px;
		  }
		  
		  .buttonWrapper {
		  display: grid;
		  grid-template-columns: 1fr 1fr 1fr;
		  }
		  .tab-button {
		  letter-spacing: 3px;
		  border: none;
		  padding: 10px;
		  background-color: #bccbe9;
		  color: #232c3d;
		  font-size: 18px;
		  cursor: pointer;
		  transition: 0.5s;
		  }
	  
		  .tab-button:hover{
			  background-color: #d5e3ff;
		  }
	  
		  .tab-button.active {
			  background-color: white;
		  }
		   
		  .contentWrapper p {
		  text-align: left;
		  padding: 10px;
		  }
		  .content {
		  display: none;
		  padding: 10px 20px;
		  }
		  .content.active {
		  display: block;
		  }
	  
		  .fa {
			  margin-left: 5px;
		  }
	  
		  #copied {
			  display: none;
			  color: #f0ad4e;
			  margin-left: 5px;
		  }
		  #copied2 {
			  display: none;
			  color: #f0ad4e;
			  margin-left: 5px;
		  }
		  @media (min-width: 570px) {
			  .single-winer {
				  padding: 30px 30px 13px;
			  }
	  
			  .wrapper {
			  width: 590px;
			  margin: auto;
			  border-radius: 10px;
			  box-shadow: 0px 5px 15px rgba(0, 0, 0, .1);
			}
			  
		  }
		  </style>

        <script>
            const tabs = document.querySelector(".wrapper");
            const tabButton = document.querySelectorAll(".tab-button");
            const contents = document.querySelectorAll(".content");
            tabs.onclick = e => {
              const id = e.target.dataset.id;
              if (id) {
                tabButton.forEach(btn => {
                  btn.classList.remove("active");
                });
                e.target.classList.add("active");
                contents.forEach(content => {
                  content.classList.remove("active");
                });
                const element = document.getElementById(id);
                element.classList.add("active");
              }
          }

		  function copyToClipboard(element) {
			var $temp = $("<input>");
			$("body").append($temp);
			$temp.val($(element).text()).select();
			document.execCommand("copy");
			$temp.remove();

			if (element === '#p1') {
				var copy = document.getElementById('copied')
				copy.style.display = "inline-block";
			} else if (element === '#p2'){
				var copy2 = document.getElementById('copied2')
				copy2.style.display = "inline-block";
			}
			
		  }
          </script>
	<!-- jquery -->
    <script src="{%static 'mainapp/assets/js/jquery.js'%}"></script>
	<!-- popper -->
	<script src="{%static 'mainapp/assets/js/popper.min.js'%}"></script>
	<!-- bootstrap -->
	<script src="{%static 'mainapp/assets/js/bootstrap.min.js'%}"></script>
	<!-- plugin js-->
	<script src="{%static 'mainapp/assets/js/plugin.js'%}"></script>

	<!-- MpusemoverParallax JS-->
	<script src="{%static 'mainapp/assets/js/TweenMax.js'%}"></script>
	<script src="{%static 'mainapp/assets/js/mousemoveparallax.js'%}"></script>
	<!-- main -->
	<script src="{%static 'mainapp/assets/js/main.js'%}"></script>

</body>

</html>